import {getPagesUnderRoute} from "nextra/context";
import Link from "next/link";
import {useEffect, useState} from "react";
import header from "../components/header";
import '@/app/styles/articles.css';

export function BlogHeader() {
    return (
        <div className="welcome">
				<h1>SkymTimes</h1>
				<h2>Le monde de Skym-Mc<br />en temps réel.<br />
					<Link href="https://hlp.skym-mc.fr" target='_BLANK'>play.skym-mc.fr</Link>
				</h2>
			</div>
    );
}

export function BlogIndex() {
    return getPagesUnderRoute("/articles").map((page) => {
        return (
            <div className="">
                <img src={`/times/${page.frontMatter?.ogImage}`} alt=""/>
                <div className="">
                    {page.frontMatter?.date ? (<p>Publié le {page.frontMatter.date}</p>) : null}
                    <h5>{page.meta?.title || page.frontMatter?.title || page.name}</h5>
                    <p> {page.frontMatter?.description}{" "}</p>
                    <Link href={page.route}><button type="button">Lire plus</button></Link>
                </div>
            </div>
        );
    });
}

<BlogHeader/>
<BlogIndex/>